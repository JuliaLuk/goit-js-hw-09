{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\nimport Notiflix from 'notiflix';\n\nconst dataDays = document.querySelector('[data-days]');\nconst dataHours = document.querySelector('[data-hours]');\nconst dataMinutes = document.querySelector('[data-minutes]');\nconst dataSeconds = document.querySelector('[data-seconds]');\nconst inputDate = document.querySelector('#datetime-picker');\nconst btnDate = document.querySelector('[data-start]');\n\nbtnDate.disabled = true;\nlet timeDedline = null;\n\nconst fp = flatpickr(inputDate, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\n  onClose([selectedDates]) {\n    if (selectedDates <= new Date()) {\n      btnDate.disabled = true;\n\n      Notiflix.Notify.failure('Please choose a date in the future');\n      // alert('Please choose a date in the future');\n    } else {\n      btnDate.disabled = false;\n    }\n    timeDedline = selectedDates;\n  },\n});\n// console.log(fp);\n\nbtnDate.addEventListener('click', onClick);\nfunction onClick() {\n  const interval = setInterval(() => {\n    const currentTime = Date.now();\n    const diff = timeDedline - currentTime;\n    convertMs(diff);\n    // console.log(diff);\n    if (diff <= 1000) {\n      // Notiflix.Notify.success('Congratulations');\n      clearInterval(interval);\n      btnDate.disabled = false;\n      // alert('Please choose a date in the future');\n    }\n  }, 1000);\n  btnDate.disabled = true;\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return outData({ days, hours, minutes, seconds });\n}\n\nfunction outData({ days, hours, minutes, seconds }) {\n  dataDays.textContent = days.toString().padStart(2, '0');\n  dataHours.textContent = hours.toString().padStart(2, '0');\n  dataMinutes.textContent = minutes.toString().padStart(2, '0');\n  dataSeconds.textContent = seconds.toString().padStart(2, '0');\n}\n"],"names":["dataDays","dataHours","dataMinutes","dataSeconds","inputDate","btnDate","timeDedline","flatpickr","selectedDates","Notiflix","onClick","interval","currentTime","diff","convertMs","ms","days","hours","minutes","seconds","outData"],"mappings":"+IAKA,MAAMA,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAU,SAAS,cAAc,cAAc,EAErDA,EAAQ,SAAW,GACnB,IAAIC,EAAc,KAEPC,EAAUH,EAAW,CAC9B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQ,CAACI,CAAa,EAAG,CACnBA,GAAiB,IAAI,MACvBH,EAAQ,SAAW,GAEnBI,EAAS,OAAO,QAAQ,oCAAoC,GAG5DJ,EAAQ,SAAW,GAErBC,EAAcE,CACf,CACH,CAAC,EAGDH,EAAQ,iBAAiB,QAASK,CAAO,EACzC,SAASA,GAAU,CACjB,MAAMC,EAAW,YAAY,IAAM,CACjC,MAAMC,EAAc,KAAK,MACnBC,EAAOP,EAAcM,EAC3BE,EAAUD,CAAI,EAEVA,GAAQ,MAEV,cAAcF,CAAQ,EACtBN,EAAQ,SAAW,GAGtB,EAAE,GAAI,EACPA,EAAQ,SAAW,EACrB,CAEA,SAASS,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,OAAOK,EAAQ,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAAE,CAClD,CAEA,SAASC,EAAQ,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAClDnB,EAAS,YAAcgB,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EACtDf,EAAU,YAAcgB,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EACxDf,EAAY,YAAcgB,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAC5Df,EAAY,YAAcgB,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CAC9D"}
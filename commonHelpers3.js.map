{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onClick);\nfunction onClick(event) {\n  event.preventDefault();\n  const formData = Object.fromEntries(new FormData(event.target));\n  const delay = Number(formData.delay);\n  const step = Number(formData.step);\n  const amount = Number(formData.amount);\n\n  for (let i = 1; i <= amount; i++) {\n    const currentDelay = delay + (i - 1) * step;\n\n    createPromise(i, currentDelay)\n      .then(({ position, delay }) => {\n        // alert('Attention !!! Please choose a date in the future');\n        //console.log(✅ Fulfilled promise ${position} in ${delay}ms);\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        alert('Attention !!! Please choose a date in the future');\n        // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n  }\n}\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      const result = { position, delay };\n      if (shouldResolve) {\n        resolve(result);\n      } else {\n        reject(result);\n      }\n    }, delay);\n  });\n}\n"],"names":["form","onClick","event","formData","delay","step","amount","i","currentDelay","createPromise","position","Notiflix","resolve","reject","shouldResolve","result"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAO,EACvC,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EACpB,MAAMC,EAAW,OAAO,YAAY,IAAI,SAASD,EAAM,MAAM,CAAC,EACxDE,EAAQ,OAAOD,EAAS,KAAK,EAC7BE,EAAO,OAAOF,EAAS,IAAI,EAC3BG,EAAS,OAAOH,EAAS,MAAM,EAErC,QAASI,EAAI,EAAGA,GAAKD,EAAQC,IAAK,CAChC,MAAMC,EAAeJ,GAASG,EAAI,GAAKF,EAEvCI,EAAcF,EAAGC,CAAY,EAC1B,KAAK,CAAC,CAAE,SAAAE,EAAU,MAAAN,KAAY,CAG7BO,EAAS,OAAO,QACd,uBAAuBD,QAAeN,KAChD,CACA,CAAO,EACA,MAAM,CAAC,CAAE,SAAAM,EAAU,MAAAN,KAAY,CAC9B,MAAM,kDAAkD,EAExDO,EAAS,OAAO,QACd,sBAAsBD,QAAeN,KAC/C,CACA,CAAO,CACJ,CACH,CACA,SAASK,EAAcC,EAAUN,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACQ,EAASC,IAAW,CACtC,WAAW,IAAM,CACf,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAChCC,EAAS,CAAE,SAAAL,EAAU,MAAAN,GACvBU,EACFF,EAAQG,CAAM,EAEdF,EAAOE,CAAM,CAEhB,EAAEX,CAAK,CACZ,CAAG,CACH"}